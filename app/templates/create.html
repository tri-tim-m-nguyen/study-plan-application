{% extends "base.html" %}

{% block head_scripts %}
  <script src="{{ url_for('static', filename='js/timetable.js') }}"></script>
  <script src="{{ url_for('static', filename='js/create.js') }}"></script>
  <link rel="stylesheet" href="{{ url_for('static', filename='timetable.css') }}">
{% endblock %}

{% block content %}

<div class="row">
  {% include 'timetable.html' %}
  <div class="col-md-4">
    <div class="toggle-container">
      <button class="toggle" id="toggle-Available">Fully Available</button>
      <button class="toggle" id="toggle-pAvailable">Partially Available</button>
    </div>
    
    <form>
      <div class="assessment-form">
        <label for="assessment-name">Assessment Name</label>
        <input type="text" id="name" name="name" class="form-control" placeholder="Enter assessment name" required>
      </div>
      <div class="assessment-form">
        <label for="assessment-date">Weighting</label>
        <input type="number" id="weight" name="weight" class="form-control" required>
      </div>
      <div class="assessment-form">
        <label for="assessment-date">Mark</label>
        <input type="number" id="mark" name="mark" class="form-control" required>
      </div>
      <button type="submit">Submit</button>
    </form>
    <button class="toggle" id="toggle-pselected">Partially Unavailable</button>

    <div id="activity-container">
      <!-- New activities will be added here -->
       <button id="add-button">+</button>
    </div>
    <button id="save-timetable" class="btn btn-primary mt-3">Save Timetable</button>

  </div>
</div>

<!-- Pass user activities data to JavaScript -->
{% if user_activities %}
<script>
  window.userSavedActivities = {{ user_activities|tojson|safe }};
</script>
{% else %}
<script>
  window.userSavedActivities = [];
</script>
{% endif %}

{% endblock %}